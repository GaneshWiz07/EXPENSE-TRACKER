{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{expenseApi}from'../utils/api';import'./AddExpense.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddExpense=()=>{const navigate=useNavigate();const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[formData,setFormData]=useState({description:'',amount:'',category:'',date:new Date().toISOString().split('T')[0]});const categories=['Food','Transportation','Entertainment','Shopping','Utilities','Healthcare','Education','Other'];const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const expenseData={...formData,amount:parseFloat(formData.amount)};await expenseApi.createExpense(expenseData);navigate('/expenses');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to add expense');}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Adding expense...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"add-expense-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add New Expense\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"expense-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"description\",name:\"description\",value:formData.description,onChange:handleChange,required:true,placeholder:\"Enter expense description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"amount\",name:\"amount\",value:formData.amount,onChange:handleChange,required:true,min:\"0\",step:\"0.01\",placeholder:\"Enter amount\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",name:\"category\",value:formData.category,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a category\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"date\",name:\"date\",value:formData.date,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/expenses'),className:\"cancel-button\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",disabled:loading,children:\"Add Expense\"})]})]})]});};export default AddExpense;","map":{"version":3,"names":["React","useState","useNavigate","expenseApi","jsx","_jsx","jsxs","_jsxs","AddExpense","navigate","loading","setLoading","error","setError","formData","setFormData","description","amount","category","date","Date","toISOString","split","categories","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","expenseData","parseFloat","createExpense","err","_err$response","_err$response$data","response","data","message","className","children","onSubmit","htmlFor","type","id","onChange","required","placeholder","min","step","map","onClick","disabled"],"sources":["S:/GITHUB PROJECTS/EXPENSE-TRACKER/frontend/src/components/AddExpense.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { expenseApi } from '../utils/api';\nimport './AddExpense.css';\n\nconst AddExpense = () => {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [formData, setFormData] = useState({\n    description: '',\n    amount: '',\n    category: '',\n    date: new Date().toISOString().split('T')[0]\n  });\n\n  const categories = [\n    'Food',\n    'Transportation',\n    'Entertainment',\n    'Shopping',\n    'Utilities',\n    'Healthcare',\n    'Education',\n    'Other'\n  ];\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const expenseData = {\n        ...formData,\n        amount: parseFloat(formData.amount)\n      };\n\n      await expenseApi.createExpense(expenseData);\n      navigate('/expenses');\n    } catch (err) {\n      setError(err.response?.data?.message || 'Failed to add expense');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Adding expense...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"add-expense-container\">\n      <h2>Add New Expense</h2>\n      {error && <div className=\"error-message\">{error}</div>}\n      <form onSubmit={handleSubmit} className=\"expense-form\">\n        <div className=\"form-group\">\n          <label htmlFor=\"description\">Description</label>\n          <input\n            type=\"text\"\n            id=\"description\"\n            name=\"description\"\n            value={formData.description}\n            onChange={handleChange}\n            required\n            placeholder=\"Enter expense description\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"amount\">Amount</label>\n          <input\n            type=\"number\"\n            id=\"amount\"\n            name=\"amount\"\n            value={formData.amount}\n            onChange={handleChange}\n            required\n            min=\"0\"\n            step=\"0.01\"\n            placeholder=\"Enter amount\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"category\">Category</label>\n          <select\n            id=\"category\"\n            name=\"category\"\n            value={formData.category}\n            onChange={handleChange}\n            required\n          >\n            <option value=\"\">Select a category</option>\n            {categories.map(category => (\n              <option key={category} value={category}>\n                {category}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"date\">Date</label>\n          <input\n            type=\"date\"\n            id=\"date\"\n            name=\"date\"\n            value={formData.date}\n            onChange={handleChange}\n            required\n          />\n        </div>\n\n        <div className=\"form-actions\">\n          <button \n            type=\"button\" \n            onClick={() => navigate('/expenses')}\n            className=\"cancel-button\"\n          >\n            Cancel\n          </button>\n          <button \n            type=\"submit\" \n            className=\"submit-button\"\n            disabled={loading}\n          >\n            Add Expense\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default AddExpense;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}