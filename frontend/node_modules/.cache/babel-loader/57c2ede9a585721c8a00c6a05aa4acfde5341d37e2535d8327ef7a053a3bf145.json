{"ast":null,"code":"import React,{createContext,useState,useContext,useEffect}from'react';import{createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut,onAuthStateChanged,updateProfile,GoogleAuthProvider,signInWithPopup}from'firebase/auth';import{auth}from'../config/firebaseConfig';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();export function useAuth(){return useContext(AuthContext);}export function AuthProvider(_ref){let{children}=_ref;const[currentUser,setCurrentUser]=useState(null);const[loading,setLoading]=useState(true);function signup(email,password,displayName){return createUserWithEmailAndPassword(auth,email,password).then(userCredential=>{// Update user profile with display name\nreturn updateProfile(userCredential.user,{displayName:displayName}).then(()=>userCredential.user);});}function login(email,password){return signInWithEmailAndPassword(auth,email,password).then(userCredential=>{setCurrentUser(userCredential.user);// Set currentUser state\nreturn userCredential.user;});}function logout(){return signOut(auth);}function signInWithGoogle(){const provider=new GoogleAuthProvider();return signInWithPopup(auth,provider);}useEffect(()=>{const unsubscribe=onAuthStateChanged(auth,user=>{setCurrentUser(user);setLoading(false);});// Cleanup subscription\nreturn unsubscribe;},[]);const value={currentUser,signup,login,logout,signInWithGoogle};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:value,children:!loading&&children});}","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","onAuthStateChanged","updateProfile","GoogleAuthProvider","signInWithPopup","auth","jsx","_jsx","AuthContext","useAuth","AuthProvider","_ref","children","currentUser","setCurrentUser","loading","setLoading","signup","email","password","displayName","then","userCredential","user","login","logout","signInWithGoogle","provider","unsubscribe","value","Provider"],"sources":["S:/GITHUB PROJECTS/EXPENSE-TRACKER/frontend/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\nimport { \n  createUserWithEmailAndPassword, \n  signInWithEmailAndPassword, \n  signOut, \n  onAuthStateChanged,\n  updateProfile,\n  GoogleAuthProvider,\n  signInWithPopup\n} from 'firebase/auth';\nimport { auth } from '../config/firebaseConfig';\n\nconst AuthContext = createContext();\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  function signup(email, password, displayName) {\n    return createUserWithEmailAndPassword(auth, email, password)\n      .then((userCredential) => {\n        // Update user profile with display name\n        return updateProfile(userCredential.user, {\n          displayName: displayName\n        }).then(() => userCredential.user);\n      });\n  }\n\n  function login(email, password) {\n    return signInWithEmailAndPassword(auth, email, password)\n      .then((userCredential) => {\n        setCurrentUser(userCredential.user); // Set currentUser state\n        return userCredential.user;\n      });\n  }\n\n  function logout() {\n    return signOut(auth);\n  }\n\n  function signInWithGoogle() {\n    const provider = new GoogleAuthProvider();\n    return signInWithPopup(auth, provider);\n  }\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n\n    // Cleanup subscription\n    return unsubscribe;\n  }, []);\n\n  const value = {\n    currentUser,\n    signup,\n    login,\n    logout,\n    signInWithGoogle\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAC7E,OACEC,8BAA8B,CAC9BC,0BAA0B,CAC1BC,OAAO,CACPC,kBAAkB,CAClBC,aAAa,CACbC,kBAAkB,CAClBC,eAAe,KACV,eAAe,CACtB,OAASC,IAAI,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhD,KAAM,CAAAC,WAAW,cAAGd,aAAa,CAAC,CAAC,CAEnC,MAAO,SAAS,CAAAe,OAAOA,CAAA,CAAG,CACxB,MAAO,CAAAb,UAAU,CAACY,WAAW,CAAC,CAChC,CAEA,MAAO,SAAS,CAAAE,YAAYA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACoB,OAAO,CAAEC,UAAU,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CAE5C,QAAS,CAAAsB,MAAMA,CAACC,KAAK,CAAEC,QAAQ,CAAEC,WAAW,CAAE,CAC5C,MAAO,CAAAtB,8BAA8B,CAACO,IAAI,CAAEa,KAAK,CAAEC,QAAQ,CAAC,CACzDE,IAAI,CAAEC,cAAc,EAAK,CACxB;AACA,MAAO,CAAApB,aAAa,CAACoB,cAAc,CAACC,IAAI,CAAE,CACxCH,WAAW,CAAEA,WACf,CAAC,CAAC,CAACC,IAAI,CAAC,IAAMC,cAAc,CAACC,IAAI,CAAC,CACpC,CAAC,CAAC,CACN,CAEA,QAAS,CAAAC,KAAKA,CAACN,KAAK,CAAEC,QAAQ,CAAE,CAC9B,MAAO,CAAApB,0BAA0B,CAACM,IAAI,CAAEa,KAAK,CAAEC,QAAQ,CAAC,CACrDE,IAAI,CAAEC,cAAc,EAAK,CACxBR,cAAc,CAACQ,cAAc,CAACC,IAAI,CAAC,CAAE;AACrC,MAAO,CAAAD,cAAc,CAACC,IAAI,CAC5B,CAAC,CAAC,CACN,CAEA,QAAS,CAAAE,MAAMA,CAAA,CAAG,CAChB,MAAO,CAAAzB,OAAO,CAACK,IAAI,CAAC,CACtB,CAEA,QAAS,CAAAqB,gBAAgBA,CAAA,CAAG,CAC1B,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAxB,kBAAkB,CAAC,CAAC,CACzC,MAAO,CAAAC,eAAe,CAACC,IAAI,CAAEsB,QAAQ,CAAC,CACxC,CAEA9B,SAAS,CAAC,IAAM,CACd,KAAM,CAAA+B,WAAW,CAAG3B,kBAAkB,CAACI,IAAI,CAAGkB,IAAI,EAAK,CACrDT,cAAc,CAACS,IAAI,CAAC,CACpBP,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CAEF;AACA,MAAO,CAAAY,WAAW,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,KAAK,CAAG,CACZhB,WAAW,CACXI,MAAM,CACNO,KAAK,CACLC,MAAM,CACNC,gBACF,CAAC,CAED,mBACEnB,IAAA,CAACC,WAAW,CAACsB,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAAjB,QAAA,CAChC,CAACG,OAAO,EAAIH,QAAQ,CACD,CAAC,CAE3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}